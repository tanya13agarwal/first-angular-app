import './polyfills.server.mjs';
import{a as K,b as V}from"./chunk-OSVEBLIE.mjs";import{q as M}from"./chunk-Y3G23SWX.mjs";import{Ab as r,Bb as x,Eb as D,Gb as g,Gc as G,Ib as u,Pa as R,Pb as s,R as B,Ra as a,Rb as y,S as l,Sa as d,X as p,bb as f,ca as E,cb as C,da as w,gb as h,lc as z,na as P,qa as j,rb as T,vb as k,wb as F,xb as N,yb as A,zb as i}from"./chunk-GHR6TWI3.mjs";import{a as I,b as O}from"./chunk-X2SEQXRR.mjs";var m=class t{courses=j([]);get coursesSignal(){return this.courses.asReadonly()}constructor(){this.loadCourses()}loadCourses(){if(typeof localStorage<"u"){let o=localStorage.getItem("courses");if(o){let e=JSON.parse(o);this.courses.set(e)}}else console.warn("localStorage is not available")}getCourses(){return this.courses()}addCourse(o){let e=[];return this.courses.update(n=>{let c=O(I({},o),{id:n.length+1});return e=[...n,c],this.setItem(e),e}),e}deleteCourse(o){this.courses.update(e=>{let n=e.filter(c=>c.id!==o.id);return this.setItem(n),n})}setItem(o){localStorage.setItem("courses",JSON.stringify(o))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var S=class t{constructor(o){this.snackBarRef=o}courseService=p(m);undoDelete(){console.log("undo deleted course"),this.snackBarRef.dismissWithAction()}static \u0275fac=function(e){return new(e||t)(d(K))};static \u0275cmp=f({type:t,selectors:[["app-custom-snackbar"]],standalone:!1,decls:5,vars:0,consts:[[1,"custom-snack-bar"],[3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"p"),s(2,"Course deleted successfully"),r(),i(3,"button",1),g("click",function(){return n.undoDelete()}),s(4,"Undo"),r()())},styles:[".custom-snack-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]})};function $(t,o){if(t&1){let e=D();i(0,"button",8),g("click",function(){E(e);let c=u().$implicit,Y=u();return w(Y.deleteCourse(c))}),x(1,"i",9),r()}}function q(t,o){if(t&1&&(i(0,"div",1)(1,"div",2)(2,"div",3),x(3,"img",4),h(4,$,2,0,"button",5),r(),i(5,"h3",6),s(6),r(),i(7,"p",7),s(8),r()()()),t&2){let e=o.$implicit,n=u();a(3),T("src",e.image,R),a(),k(n.isAdmin()?4:-1),a(2),y(" ",e==null?null:e.title," "),a(2),y(" ",e==null?null:e.description," ")}}function H(t,o){t&1&&(i(0,"div",10),s(1," No course added yet "),r())}function L(t,o){if(t&1&&h(0,H,2,0,"div",10),t&2){let e=u();k(e.isAdmin()?0:-1)}}var _=class t{constructor(o){this._snackBar=o}isAdmin=P(!1);coursesSub;courseService=p(m);courses=z(()=>this.courseService.coursesSignal());ngOnInit(){}deleteCourse(o){let e=this.courseService.deleteCourse(o);this.courseService.loadCourses(),this.openCustomSnackBar()}openCustomSnackBar(){this._snackBar.openFromComponent(S)}openSnackBar(){this._snackBar.open("Course deleted successfully","undo",{horizontalPosition:"center",verticalPosition:"top"})}ngOnDestroy(){}static \u0275fac=function(e){return new(e||t)(d(V))};static \u0275cmp=f({type:t,selectors:[["app-courses"]],inputs:{isAdmin:[1,"isAdmin"]},standalone:!1,decls:4,vars:1,consts:[[1,"row","mt-3"],[1,"col-lg-4","mb-4"],["align","center",1,"box"],["align","center",1,"course-image"],[3,"src"],[1,"btn","btn-danger"],[1,"mt-3"],[1,"mt-2"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash-fill"],["align","center",1,"mb-5"]],template:function(e,n){e&1&&(i(0,"div",0),N(1,q,9,4,"div",1,F,!1,L,1,1),r()),e&2&&(a(),A(n.courses()))},styles:[".box[_ngcontent-%COMP%]{background-color:#fff;padding:2vh 4vh;height:40vh}.box[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]{height:25vh;width:100%;background-color:#effeff}.box[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}button[_ngcontent-%COMP%]{position:absolute;margin-left:-5vh}"]})};var Q=[{path:"",component:_}],v=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=C({type:t});static \u0275inj=l({imports:[M.forChild(Q),M]})};var W=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=C({type:t});static \u0275inj=l({imports:[G,v]})};export{m as a,_ as b,W as c};
